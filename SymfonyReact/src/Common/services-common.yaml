parameters:

services:
  _defaults:
    autowire: true
    autoconfigure: true

  App\Common\:
    resource: '../src/Common/*'
    exclude: '../src/Common/{API/Traits, Query/Traits, Validation/Traits, DependencyInjection, Kernel.php}'
  ################### Core ############################

  App\Common\Command\ElasticLogIndexCommand:
    arguments:
      $indexMappings: [
        {
          index: '@elastica.log_index',
          mapping: {
            message: 'text',
            level: "bucket"
            context: 'object',
          }
        }
      ]
    tags:
      - { name: 'console.command' }
